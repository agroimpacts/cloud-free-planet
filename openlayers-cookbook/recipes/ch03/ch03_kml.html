<!-- Map DOM element -->
<div id="ch3_kml" style="width: 100%; height: 100%;"></div>

<!-- The magic comes here -->
<script type="text/javascript">

    // Create the map using the specified DOM element
    var map = new OpenLayers.Map("ch3_kml");    
    
    var layer = new OpenLayers.Layer.OSM("OpenStreetMap");
    layer.wrapDateLine = false;
    map.addLayer(layer);
    
    map.addControl(new OpenLayers.Control.LayerSwitcher());
    map.setCenter(new OpenLayers.LonLat(0,0), 2);
    
    // Global Undersea Fiber Cables
    map.addLayer(new OpenLayers.Layer.Vector("Global Undersea Fiber Cables", {
        protocol: new OpenLayers.Protocol.HTTP({
            url: "http://africa.princeton.edu/afmap/openlayers-cookbook/recipes/data/global_undersea.kml",
            format: new OpenLayers.Format.KML({
                extractStyles: true,
                extractAttributes: true
            })
        }),
        strategies: [new OpenLayers.Strategy.Fixed()]
    }));
    
</script>
