#! /usr/bin/python

from boto.mturk.connection import MTurkRequestError
from MTurkMappingAfrica import MTurkMappingAfrica

mtma = MTurkMappingAfrica()
mtma.cur.execute('select worker_id from worker_data')
workers=(zip(*mtma.cur.fetchall()))[0]

subject = 'Mapping Africa: Pending HITs have been approved'
body = '''
Dear Mechanical Turk worker,

As mentioned in our previous emails to you, we have now approved your submitted HITs that were pending approval.

Once again, we thank you for helping us with the Mapping Africa project, and hope that you will continue to assist us when we go live again.

Best regards,
             The Mapping Africa team
'''

mtma.mtcon.notify_workers(workers, subject, body)
